//=============================================================================
// Projekt      : MAS-SE 20: Java-Vorkurs
// Titel        : Ü31: Schiff-Navigations-System: Ausgangslage
// Dateiname    : ShipNavigationSystem.java
// Autor        : `You` 
// Beschreibung : Ein 'Spiel', bei welchem Schiffe in einer X/Y-Ebene positioniert 
//                werden können und man daraufhin diese Schiffe an neue 
//                X/Y-Koordinaten fahren lassen kann ;-)
//=============================================================================

import java.awt.Toolkit;
import java.util.ArrayList;
import java.util.Scanner;

public class ShipNavigationSystem {

	private final static ArrayList<Ship> mShips = new ArrayList<Ship>();
	private final static Screen mScreen = new Screen(30, 10);
	private final static String[][] MENU = { { "1. Neues Schiff", "2. Neue Position", "3. Ende" },
			{ "Geben Sie den neuen Schiffsnamen", "und die Position (X/Y) ein", " ", "Bespiel:  QE 18 8" },
			{ "Geben Sie den neuen Schiffsnummer", "und die Position (X/Y) ein", " ", "Bespiel:  1 7 3" } };

	public static void newShip(String eingabeNeuesSchiff) {
		Scanner in = new Scanner(System.in);
		String[] DatenfuerNeuesSchiff = eingabeNeuesSchiff.split(" ");
		String Name = DatenfuerNeuesSchiff[0];
		String xPos = DatenfuerNeuesSchiff[1];
		String yPos = DatenfuerNeuesSchiff[2];
		// positionen finden
		int XPOS = Integer.valueOf(xPos);
		int YPOS = Integer.valueOf(yPos);
		Ship NewShip = new Ship(XPOS, YPOS, Name);
		// der arraylist zu ordnen
		mShips.add(NewShip);
	}

	public static void writeShip() {
		for (int i = 0; i < mShips.size(); i++) {
			int curPosX = mShips.get(i).getXPos();
			int curPosY = mShips.get(i).getYPos();
			char[] Schiffsname = mShips.get(i).getName().toCharArray();
			for (int j = 0; j < Schiffsname.length; j++) {
				mScreen.set(curPosX, curPosY, Schiffsname[j]);

			} mScreen.print();
		}

	}

	public static void changePosition(int pX, int pY) {
		int BORDER = 3;
		Scanner mScanner = new Scanner(System.in);
		mScreen[BORDER - 1 + pY][BORDER - 1 + pX];

	}

	public static void main(String[] args) {

		mScreen.setMenu(MENU[0]);
		mScreen.print();
		while (true) {
			String input = mScreen.userInput("Ihre Wahl: ");
			int inputValidierung = Integer.parseInt(input);
			if (inputValidierung == 1) {
				mScreen.setMenu(MENU[1]);
				mScreen.print();
				String Newship = mScreen.userInput("Eingabe :");
				newShip(Newship);
				writeShip();

			} else if (inputValidierung == 2) {
				mScreen.setMenu(MENU[2]);
				mScreen.print();
			} else if (inputValidierung == 3) {
				System.out.print("Ende");
				break;
			}
		}

	}

	// System.out.println("screen.get(10, 2): '" + mScreen.get(10, 2)+"'");
	// System.out.println("screen.get( 1, 1): '" + mScreen.get( 1, 1)+"'");

}
